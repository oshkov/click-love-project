<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"/>
    <link href="{{ url_for('static', path='/styles/edit_profile.css') }}" rel="stylesheet">
    <title>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–Ω–∫–µ—Ç—ã</title>
</head>
<body>
    <form method="post" action="" enctype="multipart/form-data" id="form">

        <div class="corbots_logo" id="corbots_logo">
            <h1 id="logo_h1">–ö–õ–ò–ö-–ë–û–¢ ‚ù§Ô∏è</h1>
            <h2 id="logo_h2">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–Ω–∫–µ—Ç—ã</h2>
        </div>


        <div class="form_block" id="username_form">
            <h2 class="for_input">–ò–º—è:</h2>
            <input type="text" placeholder="–ò–º—è" id="username_input" class="write" name="name" autocomplete="off" value="{{ profile_info.name }}">
            <p class="error" id="error_username"></p>
        </div>


        <div class="form_block" id="age_form">
            <h2 class="for_input">–í–æ–∑—Ä–∞—Å—Ç:</h2>
            <input type="number" placeholder="–í–æ–∑—Ä–∞—Å—Ç" step="1" min="18" max="80" id="age_input" class="write" name="age" autocomplete="off"  value="{{ profile_info.age }}">
            <p class="error" id="error_age"></p>
        </div>


        <div class="form_block" id="gender_form">
            <h2 class="for_input">–ü–æ–ª:</h2>
            <div id="gender_type">
                <div class="form_radio_btn" id="gender">
                    <input type="radio" name="gender" value="–ú—É–∂—á–∏–Ω–∞" id="input_male" class="radio" {% if profile_info.gender == "–ú—É–∂—á–∏–Ω–∞" %} checked {% endif %}>
                    <label for="input_male">üíÅ‚Äç‚ôÇÔ∏è –ú—É–∂—Å–∫–æ–π</label>
                </div>
                <div class="form_radio_btn" id="gender">
                    <input type="radio" name="gender" value="–ñ–µ–Ω—â–∏–Ω–∞" id="input_female" class="radio" {% if profile_info.gender == "–ñ–µ–Ω—â–∏–Ω–∞" %} checked {% endif %}>
                    <label for="input_female">üíÅ‚Äç‚ôÄÔ∏è –ñ–µ–Ω—Å–∫–∏–π</label>
                </div>
            </div>
            <p class="error" id="error_gender"></p>
        </div>


        <div class="form_block" id="city_form">
            <h2 class="for_input">–ì–æ—Ä–æ–¥:</h2>
            <div class="autocomplete">
                <input type="text" id="city_input" placeholder="–í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥" class="write" name="city" autocomplete="off" value="{{ profile_info.city }}">
                <div class="autocomplete-items"></div>
            </div>
            <p class="error" id="error_city"></p>
        </div>


        <div class="form_block" id="preferences_form">
            <h2 class="for_input">‚ù§Ô∏è –° –∫–µ–º —Ö–æ—á–µ—à—å –∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è?</h2>
            <div id="preferences_type">
                <div class="form_radio_btn" id="prefer">
                    <input type="radio" id="input_with_male" class="radio" name="preferences" value="–° –º—É–∂—á–∏–Ω–∞–º–∏" {% if profile_info.preferences == "–° –º—É–∂—á–∏–Ω–∞–º–∏" %} checked {% endif %}>
                    <label for="input_with_male">–° –º—É–∂—á–∏–Ω–∞–º–∏</label>
                </div>
                <div class="form_radio_btn" id="prefer">
                    <input type="radio" id="input_with_female" class="radio" name="preferences" value="–° –∂–µ–Ω—â–∏–Ω–∞–º–∏" {% if profile_info.preferences == "–° –∂–µ–Ω—â–∏–Ω–∞–º–∏" %} checked {% endif %}>
                    <label for="input_with_female">–° –∂–µ–Ω—â–∏–Ω–∞–º–∏</label>
                </div>
                <div class="form_radio_btn" id="prefer">
                    <input type="radio" id="input_with_everyone" class="radio" name="preferences" value="–°–æ –≤—Å–µ–º–∏" {% if profile_info.preferences == "–°–æ –≤—Å–µ–º–∏" %} checked {% endif %}>
                    <label for="input_with_everyone">–°–æ –≤—Å–µ–º–∏</label>
                </div>
            </div>
            <p class="error" id="error_prefer"></p>
        </div>


        <div class="form_block" id="target_form">
            <h2 class="for_input">üéØ –¶–µ–ª–∏ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞</h2>
            <p>–ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º</p>
            <div id="target_type">
                <div class="form_radio_btn" id="target">
                    <input type="checkbox" name="target" value="–û–±—â–µ–Ω–∏–µ" id="communication" class="radio" {% if profile_info.target %} {% if "–û–±—â–µ–Ω–∏–µ" in profile_info.target %} checked {% endif %} {% endif %}>
                    <label for="communication">–û–±—â–µ–Ω–∏–µ</label>
                </div>
                <div class="form_radio_btn" id="target">
                    <input type="checkbox" name="target" value="–í–µ—á–µ—Ä–∏–Ω–∫–∞" id="party" class="radio" {% if profile_info.target %} {% if "–í–µ—á–µ—Ä–∏–Ω–∫–∞" in profile_info.target %} checked {% endif %} {% endif %}>
                    <label for="party">–í–µ—á–µ—Ä–∏–Ω–∫–∞</label>
                </div>
                <div class="form_radio_btn" id="target">
                    <input type="checkbox" name="target" value="–í—Å—Ç—Ä–µ—á–∞ 18+" id="18+" class="radio" {% if profile_info.target %} {% if "–í—Å—Ç—Ä–µ—á–∞ 18+" in profile_info.target %} checked {% endif %} {% endif %}>
                    <label for="18+">–í—Å—Ç—Ä–µ—á–∞ 18+</label>
                </div>
                <div class="form_radio_btn" id="target">
                    <input type="checkbox" name="target" value="–°–≤–∏–¥–∞–Ω–∏–µ" id="date" class="radio" {% if profile_info.target %} {% if "–°–≤–∏–¥–∞–Ω–∏–µ" in profile_info.target %} checked {% endif %} {% endif %}>
                    <label for="date">–°–≤–∏–¥–∞–Ω–∏–µ</label>
                </div>
                <div class="form_radio_btn" id="target">
                    <input type="checkbox" name="target" value="–°–µ—Ä—å–µ–∑–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è" id="serious" class="radio" {% if profile_info.target %} {% if "–°–µ—Ä—å–µ–∑–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è" in profile_info.target %} checked {% endif %} {% endif %}>
                    <label for="serious">–°–µ—Ä—å–µ–∑–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è</label>
                </div>
            </div>
            <p class="error" id="error_target"></p>
        </div>


        <div class="form_block" id="photo_form">
            <div id="main_photo_block">
                <h2 class="for_input">üì∑ –û—Å–Ω–æ–≤–Ω–æ–µ —Ñ–æ—Ç–æ</h2>
                <p>–ù–∞ —Ñ–æ—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–∏–¥–Ω–æ –≤–∞—à–µ –ª–∏—Ü–æ</p>
                <label class="input-file">
                    <input id="photo_input_main" type="file" name="main_photo" accept="image/*">
                    <span class="input-file-btn" id="input-file-btn">–ó–∞–≥—Ä—É–∑–∏—Ç—å –¥—Ä—É–≥–æ–µ —Ñ–æ—Ç–æ</span>
                </label>
                <p class="error" id="error_photo"></p>
                <div id="preview_imgs_main">
                    {% if profile_info.photos %}
                    <div class="image_block" id="image_block1">
                        <img src="{{ url_for('photos', path=profile_info.photos[0]) }}" name="{{ profile_info.photos[0] }}">
                    </div>
                    {% endif %}
                </div>
            </div>
            <div id="more_photo_block">
                <h2 class="for_input">üì∑ –î—Ä—É–≥–∏–µ –≤–∞—à–∏ —Ñ–æ—Ç–æ</h2>
                <p>–ú–∞–∫—Å–∏–º—É–º 4 —Ñ–æ—Ç–æ</p>
                <label class="input-file">
                    <input id="photo_input_more" type="file" name="more_photos" accept="image/*" multiple>
                    <span class="input-file-btn" id="input-file-btn">–ó–∞–≥—Ä—É–∑–∏—Ç—å –¥—Ä—É–≥–∏–µ —Ñ–æ—Ç–æ</span>
                </label>
                <div id="preview_imgs_more">
                    {% for photo in profile_info.photos[1:] %}
                    <div class="image_block" id="image_block{{ loop.index }}">
                        <img src="{{ url_for('photos', path=photo) }}" name="{{ photo }}">
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>


        <div class="form_block" id="about_form">
            <h2 class="for_input">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ–±–µ:</h2>
            <p>–ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º</p>
            <textarea placeholder="–û —Å–µ–±–µ" id="about_input" class="write" rows="6" maxlength="300" name="about" autocomplete="off">{{ profile_info.about if profile_info.about is not none }}</textarea>
            <p class="error" id="error_about"></p>

            <div class="agreement_block">
                <input type="checkbox" id="agreement" class="agreement" name="agreement" > 
                <label for="agreement" class="agreement_text" id="agreement_text">–Ø –ø—Ä–∏–Ω–∏–º–∞—é <a href="/license" target="_blank"> –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ, –ø–æ–ª–∏—Ç–∏–∫—É –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ </a> –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é, —á—Ç–æ –º–Ω–µ –µ—Å—Ç—å 18 –ª–µ—Ç.</label>    
            </div>
            <p class="error" id="error_agreement"></p>
        </div>
        <button id="edit_profile" type="button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>


        <div class="form_block" id="loading">
            <div class="loader">
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
            </div>
        </div>
    </form>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="http://cdn.jsdelivr.net/npm/suggestions-jquery@22.6.0/dist/js/jquery.suggestions.min.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="{{ url_for('static', path= '/js/edit_profile.js') }}"></script>
    <script src="{{ url_for('static', path= '/js/consts.js') }}"></script>
</body>
</html>